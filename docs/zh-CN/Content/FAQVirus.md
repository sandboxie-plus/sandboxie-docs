# 常见问题 - 病毒

关于沙盒和病毒及恶意软件的常见问题及解答。为了简洁，以下文字仅提及病毒，但同样适用于恶意软件。

沙盒能够保护你免受病毒、恶意软件、勒索软件、零日威胁等侵害。沙盒无需依赖病毒数据库签名更新、启发式分析等传统手段。

如果你在沙箱中感染了病毒，只需删除该沙箱的内容即可恢复正常。你的主机、软件及浏览器都不会受到影响，主机上的任何数据都不会被破坏。

### 问：恶意软件通常会做什么？

答：恶意软件通常被设计用来感染你的计算机。病毒通过与 Windows 操作系统的各个部分整合或接管这些部分来实现感染。感染之后，不同类型的恶意软件有不同的目的。例如，病毒程序可能会传播到更多的计算机，而间谍软件可能会记录你的键盘操作。

### 问：沙盒如何防护电脑病毒？

答：沙盒会将其所监管的程序视为潜在的威胁，并将这些程序限制在一个 _沙箱_ 内，这相当于一个保护性“泡泡”。程序无法逃离沙箱，因此也无法以任何方式更改、损害或感染你的计算机。当你不再需要该程序时，只需删除沙箱即可。

### 问：沙盒能清除病毒吗？

答：可以，但方式并不是只清除病毒，同时保留其他内容。沙盒的做法是删除整个沙箱，这将一并删除沙箱中被困的任何病毒，以及在沙盒监管下程序尝试进行的所有（无论是正面还是负面的）更改。

### 问：沙盒是杀毒软件吗？

答：不是。虽然沙盒能够对抗恶意软件，但其工作方式与传统杀毒软件不同。沙盒不会试图识别或区分“好”与“坏”（或有害）的程序。杀毒软件可能无法发现新的病毒，导致其避过检测并感染你的电脑。而沙盒则将所有程序都视为潜在威胁，不允许任何程序以任何方式修改你的计算机。

### 问：我应该用沙盒代替杀毒软件吗？

答：不建议。沙盒确实能防止沙箱内的病毒蔓延到真实电脑。但从常理来说，最好是让病毒根本无法运行。因此，建议使用杀毒软件来防护已知威胁，同时依靠沙盒作为抵御杀毒软件尚未识别的新威胁的第一道防线。

### 问：沙盒的防护是否百分之百万无一失？

答：不是，但沙盒尽量做到接近百分之百。同时，重要的是要记住，沙盒从不是你电脑上唯一的软件。你的其他软件，包括 Windows 操作系统本身，都可能存在安全漏洞，病毒有可能利用这些漏洞以绕开所有安全软件。因此，始终及时更新软件非常重要。正如那句名言：“唯一真正安全的电脑就是埋在混凝土中、断电且切断网线的电脑。”

### 问：杀毒软件能检测到沙箱中的病毒吗？

答：可以。沙箱中的文件会被存储在硬盘上，通常在 C 盘下的 SANDBOX 文件夹里。沙盒监管下的程序只能在这个文件夹操作，但该文件夹本身没有特殊之处。杀毒软件可以在病毒到达该文件夹时进行检测，也可以在之后的任意时间检测到。

### 问：我该如何应对杀毒软件检测到病毒？

答：你的杀毒软件会告知病毒被检测到的位置。如果病毒是在沙箱（通常是 C 盘 SANDBOX 文件夹）中被检测到，无需过分担心。你可以立即执行 [删除沙箱](DeleteSandbox.md) 命令，也可以让杀毒软件删除病毒文件或将其移动到隔离区。

### 问：杀毒软件将病毒文件从沙箱移至隔离区时，是否绕过了沙盒？

答：没有。杀毒软件本身并不在沙盒的监管之下，即使病毒警告表面上让你感觉是如此。当杀毒软件操作时，它可以在沙箱外部进入沙箱文件夹，将病毒文件提取出来并移入隔离区。其过程类似于沙盒的 [快速恢复](QuickRecovery.md)，即 [沙盒控制](SandboxieControl.md) 可以从沙箱内部提取某些文件。

### 问：关闭了沙箱中的所有程序后，病毒还会留在沙箱里吗？

答：答案是“视情况而定”：

1. 如果你的沙箱设置为[自动](DeleteSettings.md#invocation)删除，则不会残留；
2. 如果没有自动删除，病毒会一直存在，直到你[手动](DeleteSandbox.md)删除沙箱内容。

需要注意的是，沙箱中的病毒文件本质上只是 _一个文件_，和普通文本文件没多大区别。如果你不把文件移出沙箱并执行它，基本没有什么可担心的。

### 问：我需要安全擦除沙箱内容才能确保病毒彻底被清除吗？

答：不需要。虽然你可以[设置](SecureDeleteSandbox.md)沙盒使用第三方数据擦除工具，但关键是让病毒文件本身变得不可访问，即使是普通删除也能做到这一点。当然，安全删除确实有额外优势，详见下一个问题。

### 问：为什么杀毒软件会在 _System Volume Information_ 文件夹中检测到病毒？

答：Windows 的系统还原（System Restore）会在 _System Volume Information_ 文件夹中收集删除的文件。尽管原意是保护系统，有时系统还原也会把病毒文件复制进去。这些病毒文件是非活动（失效）的，即便恢复也只会恢复到沙箱，因此不必过于担心。但最好还是让杀毒软件清除这些文件。
需要注意的是，如果你安全擦除沙箱内容（见上一个问题），这种情况就不会发生。

### 问：我的电脑已经感染了病毒，沙盒还能防护这个病毒吗？

答：无法防护。沙盒只能保护运行在其监管下的程序。已感染你电脑的病毒是在沙盒监管之外活动的，可能还会为其他病毒提供感染途径甚至帮助沙箱内的病毒逃逸并感染真实系统。强烈建议尽快清除电脑现有病毒，然后使用沙盒防范未来的威胁。

### 问：沙盒能防护 KillDisk 病毒吗？

答：可以。KillDisk 病毒通过直接修改硬盘分区而规避文件系统。这类访问自 2006 年初的沙盒 2.33 版本起就已被阻止。

### 问：我可以在沙箱中安装杀毒软件（或防火墙、其他安全软件）吗？

答：对于大多数安全软件，答案是否定的。这类软件需要与 Windows 深度集成，以监控文件和网络访问。沙盒的设计目标是将沙箱中的程序同系统其余部分隔离，这会导致安全软件无法正确地监控系统。需要注意的是，不带有主动（“实时”）监控功能的病毒扫描软件，在沙盒内可以正确运行。请注意：并非所有杀毒“套件”都能正常运行。沙盒可能无法与某些套件（如 Kaspersky）兼容。