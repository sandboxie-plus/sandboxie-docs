Sandboxie 新的文件系统和注册表虚拟化方案可以通过在 Sandboxie.ini 文件中添加 `UseFileDeleteV2=y` 和 `UseRegDeleteV2=y` 启用，该方案改变了在沙箱内标记主机文件或注册表项为已删除的机制。

旧的方案通过创建一个指定无效创建日期的虚拟文件或注册表项，并将其标记为已删除来实现。当包含“已删除”项目的文件夹或注册表项被移动，并且创建一个同名的新文件夹或注册表项时，该方案会失效。此外，每次路径访问都需要扫描整个父路径，以判断是否有父目录或注册表项已被标记为删除。

新的方案则将相关信息保存在沙箱根目录下的 `FilePaths.dat` 或 `KeyPaths.dat` 文件中。此外，当文件夹或注册表项在沙箱内被重命名时，会创建一个重定向项，从而保证在新位置下对主机内容的列举能够正常进行。